type region = FrontHead | BackHead | Other

type path = {d: string, transform: string, label: string, region: region}
let d = path => path.d
let transform = path => path.transform
let label = path => path.label
let regionForPath = path => path.region

type part = {region: region, scale: int}

export type t = array<part>

// {region: string, scale: int}

let makePart = p => {
  let region = switch p["region"] {
  | "front_head" => FrontHead
  | "back_head" => BackHead
  | _ => Other
  }

  {region: region, scale: p["scale"]}
}

let endcodeRegion = part => {
  switch part.region {
  | FrontHead => "front_head"
  | BackHead => "back_head"
  | Other => "other"
  }
}

let regionToString = region => {
  switch region {
  | FrontHead => "Front Head"
  | BackHead => "Back Head"
  | Other => "Other"
  }
}

let region = part => part.region
let scale = part => part.scale
let makeDefault = region => {region: region, scale: 1}

let autoScale = part => {
  Js.log(mod(part.scale + 1, 6))
  {...part, scale: mod(part.scale + 1, 6)}
}

let makeFromJs = dailyRound => {
  Js.Array.map(p => makePart(p), dailyRound["pressure_sore"])
}

let frontParts = [
  {
    d: "M443,135.809",
    transform: "translate(-362.967 -95.599)",
    label: "",
    region: Other,
  },
  {
    d: "M535.244,212.572c32.253.43,32.684-31.823,32.684-31.823,9.891-.215,14.191-19.783,13.331-23.653s-7.526-1.5-7.526-1.5c3.656-30.1-9.676-48.38-17.847-53.756S535.244,95.6,535.244,95.6h.43s-12.472.86-20.643,6.236-21.5,23.653-17.846,53.756c0,0-6.666-2.365-7.526,1.5s3.44,23.438,13.331,23.653c0,0,.43,32.253,32.684,31.823Z",
    transform: "translate(-362.967 -95.599)",
    label: "Head",
    region: FrontHead,
  },
  {
    d: "M512.129,213.97s31.608,4.954,47.574-1.394v14.456s-26.287,4.355-47.574,0Z",
    transform: "translate(-362.967 -95.599)",
    label: "Neck",
    region: Other,
  },
  {
    d: "M505.355,231.279s-56.766,25.8-69.452,34.4c0,0,15.7,20.857,21.072,66.872C456.975,332.555,469.417,246.838,505.355,231.279Z",
    transform: "translate(-362.967 -95.599)",
    label: "Right Shoulder",
    region: Other,
  },
  {
    d: "M526.482,232.838l.806,137.346s-46.607-22.2-67.745,18.762C459.543,388.946,455.685,234.612,526.482,232.838Z",
    transform: "translate(-362.967 -95.599)",
    label: "Right Chest",
    region: Other,
  },
  {
    d: "M433.108,269.768s34.728,55.552,18.279,141.992c0,0-19.57-9.107-33.761-7.333,0,0-1.613-106.276,0-110.952S429.721,271.058,433.108,269.768Z",
    transform: "translate(-362.967 -95.599)",
    label: "Right Arm",
    region: Other,
  },
  {
    d: "M415.207,408.781s27.254-.968,35.963,11.45c0,0-7.58,59.024-13.547,77.57s-19.03,56.766-19.03,56.766l-22.254-2.742s1.451-34.672,1.29-45.477,5-49.993,9.514-62.249S415.207,408.781,415.207,408.781Z",
    transform: "translate(-362.967 -95.599)",
    label: "Right Forearm",
    region: Other,
  },
  {
    d: "M396.6,556.524l18.245,2.606a1.808,1.808,0,0,1,1.565,1.776c.049,6.373.053,30.692-2.6,41.987-2.568,10.951-16.244,28.022-26.205,35.726a4.126,4.126,0,0,1-6.575-2.7c-.192-1.322-.39-2.923-.584-4.855a1.828,1.828,0,0,0-2.054-1.637l-4.174.551a1.818,1.818,0,0,1-2.026-2.171c.631-3.043,1.887-8.187,3.72-11.529,2.591-4.724,5.9-18.948,5.442-26.76a1.79,1.79,0,0,0-1.514-1.635,7.118,7.118,0,0,0-5.448,1c-1.364,1.043-3.83,4.558-5.963,7.825-1.941,2.973-6.715.452-5.152-2.736.018-.037.037-.074.056-.111,1.936-3.71,13.063-18.708,16.288-24.513,2.9-5.221,13.627-8.747,15.171-11.984A1.706,1.706,0,0,1,396.6,556.524Z",
    transform: "translate(-362.967 -95.599)",
    label: "Right Hand",
    region: Other,
  },
  {
    d: "M674.037,556.2l-18.244,2.606a1.808,1.808,0,0,0-1.566,1.776c-.049,6.373-.052,30.692,2.6,41.988,2.569,10.951,16.244,28.021,26.205,35.726a4.126,4.126,0,0,0,6.576-2.7c.191-1.322.389-2.922.584-4.855a1.827,1.827,0,0,1,2.053-1.637l4.174.551a1.818,1.818,0,0,0,2.027-2.17c-.632-3.043-1.888-8.188-3.721-11.53-2.59-4.723-5.9-18.948-5.442-26.76a1.79,1.79,0,0,1,1.515-1.634,7.114,7.114,0,0,1,5.447,1c1.364,1.043,3.83,4.558,5.964,7.826,1.94,2.973,6.715.451,5.151-2.736-.018-.038-.037-.075-.056-.112-1.935-3.709-13.063-18.707-16.288-24.513-2.9-5.221-13.627-8.746-15.171-11.984A1.707,1.707,0,0,0,674.037,556.2Z",
    transform: "translate(-362.967 -95.599)",
    label: "Left Hand",
    region: Other,
  },
  {
    d: "M544.705,232.838h19.137s18.062,15.643,20,19.513,29.888,42.79,26.878,128.154c0,0-16.557-16.556-31.178-15.051,0,0,2.365-33.114-34.834-34.619Z",
    transform: "translate(-362.967 -95.599)",
    label: "Left Chest",
    region: Other,
  },
  {
    d: "M569.432,231.279s61.927,31.824,65.153,35.694c0,0-12.9,9.752-18.707,73.791C615.878,340.764,610.072,268.048,569.432,231.279Z",
    transform: "translate(-362.967 -95.599)",
    label: "Left Shoulder",
    region: Other,
  },
  {
    d: "M638.455,271.058s14.407,18.923,14.837,23.223-1.291,105.362.86,108.8c0,0-26.233,1.29-34.834,9.891,0,0-4.3-51.176.86-78.484S633.079,279.659,638.455,271.058Z",
    transform: "translate(-362.967 -95.599)",
    label: "Left Arm",
    region: Other,
  },
  {
    d: "M621.038,419s16.342-12.257,33.974-10.537c0,0,7.741,26.233,8.816,34.189s10.321,49.241,9.246,66.658.087,41.069.087,41.069-16.214,3.44-20.084,4.731c0,0-17.2-46.661-18.062-52.036S620.982,426.52,621.038,419Z",
    transform: "translate(-362.967 -95.599)",
    label: "Left Forearm",
    region: Other,
  },
  {
    d: "M510.758,934.272s-20.723,1.451-24.973,1.5a56.32,56.32,0,0,0-1.556,10.672c0,4.355.484,25.481-.645,28.061s-21.771,27.254-23.383,30.641.645,8.386,1.935,9.192,2.1,4.757,4.193,5.644c1.807.765,3.064,3.709,5.644,4.032s10.482-.645,12.418.726c0,0,.887,3.144,2.58,3.306.864.082,5.644,1.774,10.644-5.967s13.04-35.019,13.439-37.791c.249-1.732-1.183-2.125-1.506-5.189a112.484,112.484,0,0,1,1.855-20.64C513.419,948.3,510.758,934.272,510.758,934.272Z",
    transform: "translate(-362.967 -95.599)",
    label: "Right Foot",
    region: Other,
  },
  {
    d: "M563.251,934.191s20.756.564,25.006.616c0,0,.151,7.125.151,11.479s.162,24.351,1.29,26.932,22.531,27.576,24.144,30.963-.645,8.386-1.935,9.192-2.1,4.758-4.193,5.645c-1.807.764-3.064,3.709-5.645,4.031s-10.482-.645-12.417.726c0,0-.887,3.145-2.581,3.306-.864.082-5.644,1.774-10.643-5.967s-13.04-35.018-13.439-37.79c-.25-1.733,1.182-2.126,1.5-5.19a112.484,112.484,0,0,0-1.855-20.64C560.623,947.334,563.251,934.191,563.251,934.191Z",
    transform: "translate(-362.967 -95.599)",
    label: "Left Foot",
    region: Other,
  },
  {
    d: "M485.2,932.363l24.513-1.4s1.666-37.2,2.526-41.285,4.731-85.149,4.086-99.771c0,0-30,2.527-49.348-3.924,0,0-6.451,44.026-1.828,62.841C467.775,859.527,484.874,929.6,485.2,932.363Z",
    transform: "translate(-362.967 -95.599)",
    label: "Right Leg",
    region: Other,
  },
  {
    d: "M469.231,420.715s-5.966-30.318-4.515-34.834a115.141,115.141,0,0,1,16.772-10.966c10.428-5.483,29.727-6.773,36.339-3.548,5.81,2.834,4.972,2.548,13.439,4.73l.054-142.13h9.192V334.92s32.415,1.291,31.931,33.06a72.9,72.9,0,0,0,8.869,2.419c5.322,1.129,23.062,9.031,25.642,19.675,0,0-4.945,22.2-3.655,32.684,0,0-39.4-29.835-47.306-31.609s-12.959,2.31-16.933,2.8c-4.483.547-11.71-.628-18.142-2.9C514.306,388.7,475.2,414.909,469.231,420.715Z",
    transform: "translate(-362.967 -95.599)",
    label: "",
    region: Other,
  },
  {
    d: "M461.813,481.665c2.43-11.313,8.042-43.207,7.1-55.467,0,0,48.3-30.56,50.88-30.4s12.122,5.564,23.841,2.338c0,0,6.719-3.225,13.331.162s34.874,24.149,46.324,28.987c0,0-.524,28.746,1.573,37.777s10.159,42.091,10.966,46.123,0,.806,0,.806-58.057,50.155-59.669,52.574c0,0-6.451-6.29-20.481-6.774s-20.643,6.774-20.643,6.774l-60.152-51.122S460.965,485.617,461.813,481.665Z",
    transform: "translate(-362.967 -95.599)",
    label: "Abdomen",
    region: Other,
  },
  {
    d: "M554.381,790.77s30.748,3.226,51.39-4.945c0,0,3.441,40.424,0,63.432s-16.449,76.871-17.094,81.816c0,0-23.33.108-25.91-1.4,0,0-3.011-33.328-3.871-43S550.08,810.982,554.381,790.77Z",
    transform: "translate(-362.967 -95.599)",
    label: "Left Leg",
    region: Other,
  },
  {
    d: "M454.072,520.056s-4.515,29.35-6.128,48.7.323,59.346,6.128,81.278,21.288,89.343,14.514,131.272c0,0,20.464,8.064,47.808,4.516,0,0,7.2-74.822,6.7-87.73,0,0,3.333-50.745,3.333-58.7s1.72-27.738,1.72-27.738-20.642-10.106-14.837-44.08C513.311,567.576,462.351,524.571,454.072,520.056Z",
    transform: "translate(-362.967 -95.599)",
    label: "Right Thigh",
    region: Other,
  },
  {
    d: "M553.114,785.825s37.713,2.741,50.615-3.548c0,0-6.451-35.8-1.129-63.325s19.943-77.408,20.8-92.03,2.33-87.3-7.221-108.371l-56.426,49.455s3.441,37.629-18.922,44.725c0,0,7.741,68.807,7.741,78.913S554.857,777.654,553.114,785.825Z",
    transform: "translate(-362.967 -95.599)",
    label: "Left Thigh",
    region: Other,
  },
  {
    d: "M535.624,610.466s16.722-10.1,18.818-27.355-3.386-17.578-5.805-18.545-13.063-1.291-13.063-1.291h.1s-10.644.323-13.063,1.291-7.9,1.29-5.806,18.545S535.624,610.466,535.624,610.466Z",
    transform: "translate(-362.967 -95.599)",
    label: "Groin",
    region: Other,
  },
]

// let braden_scale_front = t => t.braden_scale_front
// let braden_scale_back = t => t.braden_scale_back
// let front_parts_selected = t => t.front_parts_selected
// let back_parts_selected = t => t.back_parts_selected

// let make = (
//   ~braden_scale_front,
//   ~braden_scale_back,
//   ~front_parts_selected,
//   ~back_parts_selected,
// ) => {
//   braden_scale_front: braden_scale_front,
//   braden_scale_back: braden_scale_back,
//   front_parts_selected: front_parts_selected,
//   back_parts_selected: back_parts_selected,
// }

// let makeFromJs = dailyRound => {
//   Js.Array.length(dailyRound["pressure_sore"]) > 0
//     ? make(
//         ~braden_scale_front=dailyRound["pressure_sore"][0]["braden_scale_front"]->Js.Nullable.toOption,
//         ~braden_scale_back=dailyRound["pressure_sore"][0]["braden_scale_back"]->Js.Nullable.toOption,
//         ~front_parts_selected=dailyRound["pressure_sore"][0]["front_parts_selected"],
//         ~back_parts_selected=dailyRound["pressure_sore"][0]["back_parts_selected"],
//       )
//     : make(
//         ~braden_scale_front=None,
//         ~braden_scale_back=None,
//         ~front_parts_selected=[],
//         ~back_parts_selected=[],
//       )
// }
